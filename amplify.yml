version: 1
applications:
    -
        frontend:
            phases:
                preBuild:
                    commands:
                       - nvm use 20
                       - npm install --frozen-lockfile
                build:
                    commands:
                      - nvm use 20
                      - npm run build
            artifacts:
                baseDirectory: .next
                files:
                    - '**/*'
            cache:
                paths:
                    - '.next/cache/**/*'
                    - 'node_modules/**/*'
        appRoot: ssx
